
UIquickdialog "dialog_changes" [
    UIbox "" 0.31 0 [ uiclamp 0 0 1 1 ]
] [
    uihlist 0 [
        uivlist 0 [
            uialign -2 -1
            uifill 0 0.015
            UIbuttonarea "" 0.05 0.05 [
                local s ; s = (uihold? 0.04 (uihover? 0.044 0.04))
                UIfastimg "ui/" "yes" "" $s $s
                uirelease [ hideui "dialog_changes" ; applychanges  ]
            ]
        ]
        uivlist 0.01 [
            uiclamp 1 1
            uitext "Apply changes now?" 0.7
            UIbar 1
            uispace 0.01 0 [
                uifill 0.24
                uivlist 0.01 [
                    loop i $pendingchanges [
                        uifill 0 0.032 [
                            uihlist 0.01 [
                                uialign -1
                                UIradio 1 0.012
                                uitext (pendingchanges $i) 0.55
                            ]
                        ]
                    ]
                    uiclamp* 1 1
                ]
            ]
        ]
        uivlist 0 [
            uialign -2 -1
            uifill 0 0.015
            UIbuttonarea "" 0.05 0.05 [
                local s ; s = (uihold? 0.04 (uihover? 0.044 0.04))
                UIfastimg "ui/" "no" "" $s $s
                uirelease  [ hideui "dialog_changes" ]
            ]
        ]
    ]
] [ if (! $pendingchanges) [ hideui "dialog_changes" ] ]




UIquickdialog "dialog_quit" [
    UIbox "" 0.27 0 [ uiclamp 0 0 1 1 ]
] [
    uihlist 0 [
        UIbuttonarea "" 0.05 0.05 [
            local s ; s = (uihold? 0.04 (uihover? 0.044 0.04))
            UIfastimg "ui/" "yes" "" $s $s
            uirelease [ quit ]
        ]
        uivlist 0.01 [
            uiclamp 1 1
            uitext "Quit to desktop?" 0.7
            UIbar 1
            uispace 0.01 0 [
                UIbutton "hold2" [
                    UIcheckbox (! $confirmquit) 0.016
                    uitext "Don't ask again" 0.55
                ] 0.2 0.032 [ confirmquit (! $confirmquit) ] -1
            ]
        ]
        UIbuttonarea "" 0.05 0.05 [
            local s ; s = (uihold? 0.04 (uihover? 0.044 0.04))
            UIfastimg "ui/" "no" "" $s $s
            uirelease  [ hideui "dialog_quit" ]
        ]
    ]
]
