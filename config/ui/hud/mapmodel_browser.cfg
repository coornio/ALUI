
UIquickdialog "mapmodel_browser" [
	uialign 1
	//uieschide 0
] [
	UIhudcell 0 0 [
		uihlist $.UI_pad_L [
			uiscroll (*f $.UI_pad_D2XL 3) (-f 1 (*f $.UI_pad_L 4)) [
				uifill (*f $.UI_pad_D2XL 3) (-f 1 (*f $.UI_pad_L 4))
				uihover [] [ .UI_mdlsel = -1 ]
				uigrid 3 0 0 [
					uialign -1 -1
					loop i $nummapmodels [
						uitarget $.UI_pad_D2XL $.UI_pad_D2XL [
							UIhoversound
							uispace 0.0006 0.0006 [
								if (!= $i $.UI_mdlsel) [
									uimodcolor $c_boxmod
									uioutline $c_line
								] [
									uimodcolor $c_grdmod
									uioutline (coswave.INT $c_line $c_cyan_t (uihold? 200 600))
								]
								uiclamp* 1 1 1 1
							]
							uimodelpreview (mapmodelname $i 1) "mapmodel"
							uiclamp* 1 1 1 1
							uispace $.UI_pad_S $.UI_pad_XS [
								uialign -1 -1
								uifont "default_outline" [ uicolortext $i 0x98FFFFFF 0.55 ]
							]
							uihover [
								if (!= $i $.UI_mdlsel) [
									.UI_mdlsel = $i
									UIcoswaveset
								]
							]
							uipress [ UIcoswaveset ]
							uirelease [ newent mapmodel $i ]
							//uiescrelease [
							//	if $enthavesel [
							//		entloop [ if (=s $enttype "mapmodel") [
							//			entset "mapmodel" $i (entattr 1) (entattr 2) (entattr 3) (entattr 4)
							//		] ]
							//	]
							//]
						]
					]
				]
			]
			UIvscroll 0 (-f 1 (*f $.UI_pad_L 4)) 6.4
		]
	]
] [
	.UI_mdlsel = -1
	hideui "texture_browser"
	hideui "editvars" 
] [ showui "editvars" ]

